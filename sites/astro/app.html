<!DOCTYPE html>
<html class="2xl:text-[20px]" dir="ltr" lang="en">

<head>
    <meta charset="UTF-8">
    <meta content="width=device-width,initial-scale=1" name="viewport">
    <link href="sitemap-index.xml" rel="sitemap">
    <link href="astro/favicon.0252af4f.ico" rel="shortcut icon">
    <link href="astro/favicon.2d7a3102.svg" rel="icon" type="image/svg+xml">
    <link href="astro/favicon.2d7a3102.svg" rel="mask-icon" color="#8D46E7">
    <link href="astro/apple-touch-icon.1de27c4e.png" rel="apple-touch-icon" sizes="180x180">
    <style is:global>
        :root {
            --aw-font-sans: 'Inter Variable';
            --aw-font-serif: var(--aw-font-sans);
            --aw-font-heading: var(--aw-font-sans);
            --aw-color-primary: rgb(30 64 175);
            --aw-color-secondary: rgb(30 58 138);
            --aw-color-accent: rgb(109 40 217);
            --aw-color-text-heading: rgb(0 0 0);
            --aw-color-text-default: rgb(16 16 16);
            --aw-color-text-muted: rgb(16 16 16 / 66%);
            --aw-color-bg-page: rgb(255 255 255);
            --aw-color-bg-page-dark: rgb(3 6 32)
        }

        .dark {
            --aw-font-sans: 'Inter Variable';
            --aw-font-serif: var(--aw-font-sans);
            --aw-font-heading: var(--aw-font-sans);
            --aw-color-primary: rgb(30 64 175);
            --aw-color-secondary: rgb(30 58 138);
            --aw-color-accent: rgb(109 40 217);
            --aw-color-text-heading: rgb(0 0 0);
            --aw-color-text-default: rgb(229 236 246);
            --aw-color-text-muted: rgb(229 236 246 / 66%);
            --aw-color-bg-page: var(--aw-color-bg-page-dark)
        }
    </style>
    <script>!function () { const e = "system"; function t(e) { "dark" === e ? document.documentElement.classList.add("dark") : document.documentElement.classList.remove("dark"); const t = document.querySelectorAll("[data-aw-toggle-color-scheme] > input"); t && t.length && t.forEach((t => { t.checked = "dark" !== e })) } e && e.endsWith(":only") || (localStorage.theme, 0) ? t(e.replace(":only", "")) : "dark" === localStorage.theme || !("theme" in localStorage) && window.matchMedia("(prefers-color-scheme: dark)").matches ? t("dark") : t("light") }()</script>
    <title>AstroWind — Free template for creating websites with Astro + Tailwind CSS</title>
    <meta
        content="🚀 Suitable for Startups, Small Business, Sass Websites, Professional Portfolios, Marketing Websites, Landing Pages &amp; Blogs."
        name="description" />
    <meta content="index,follow" name="robots" />
    <link href="index.html" rel="canonical" />
    <meta content="AstroWind — Free template for creating websites with Astro + Tailwind CSS" property="og:title" />
    <meta
        content="🚀 Suitable for Startups, Small Business, Sass Websites, Professional Portfolios, Marketing Websites, Landing Pages &amp; Blogs."
        property="og:description" />
    <meta content="https://astrowind.vercel.app" property="og:url" />
    <meta content="website" property="og:type" />
    <meta content="https://astrowind.vercel.app/astro/default.5cdc518a_Z2s8F4u.webp" property="og:image" />
    <meta content="en" property="og:locale" />
    <meta content="AstroWind" property="og:site_name" />
    <meta content="summary_large_image" name="twitter:card" />
    <meta content="@onwidget" name="twitter:site" />
    <meta content="@onwidget" name="twitter:creator" />
    <meta content="orcPxI47GSa-cRvY11tUe6iGg2IO_RPvnA1q95iEM3M" name="google-site-verification">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">


  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/web3@4.1.1/dist/web3.min.js"></script>
    <link href="astro/click-through.ba9432d0.css" rel="stylesheet" />
</head>
<script>
    currentChain = {}
    const chains = [
      {
        name: "Goerli",
        id: "0x5",
        nativeCurrency: { name: 'ETH', symbol: 'ETH', decimals: 18 },
        rpcUrls: ['https://goerli.infura.io/v3/'],
        contract: "0x895061f3225cce71346115f700709c8039bdee91",
        comission: 0.001
      },
      {
        name: "zkSync Testnet",
        id: "0x118",
        nativeCurrency: { name: 'ETH', symbol: 'ETH', decimals: 18 },
        rpcUrls: ['https://zksync-era-testnet.blockpi.network/v1/rpc/public'],
        contract: "0x677F1C8582F5203468Cd442DdCB7a3CB23e65979",
        comission: 0.001
      },
    ];
    const contractABI =
      [{ "inputs": [{ "internalType": "uint256", "name": "numberOfContracts", "type": "uint256" }], "name": "createContracts", "outputs": [], "stateMutability": "payable", "type": "function" }, { "inputs": [], "name": "owner", "outputs": [{ "internalType": "address payable", "name": "", "type": "address" }], "stateMutability": "view", "type": "function" }, { "inputs": [{ "internalType": "address", "name": "", "type": "address" }, { "internalType": "uint256", "name": "", "type": "uint256" }], "name": "userToContracts", "outputs": [{ "internalType": "address", "name": "", "type": "address" }], "stateMutability": "view", "type": "function" }, { "inputs": [{ "internalType": "address", "name": "contractAddress", "type": "address" }, { "internalType": "uint256", "name": "amount", "type": "uint256" }], "name": "withdrawFromContract", "outputs": [], "stateMutability": "nonpayable", "type": "function" }]
    const contractAddress = "0x895061f3225cCe71346115f700709c8039Bdee91"
    var web3 = new Web3(window.ethereum)
    var timerId;
    //const contract = new web3.eth.Contract(contractABI, contractAddress);

    window.ethereum.on('chainChanged', async function (accounts) {
      await checkChain();
    })
    $(document).ready(async function () {

      $("#pend").hide();
      $("#result").hide();

      await checkConnect();
      await checkChain();
      var id = await web3.eth.getChainId()
      var result = chains.find(obj => {
        return obj.id === web3.utils.toHex(id)
      })
      if (result === undefined)
        await changeChain(chains[0]);

      for (var i = 0; i < chains.length; i++) {
        var chain = chains[i];
        var chainItemHtml = $('<a class="dropdown-item" href="index.html#">' + chain.name + '</a>');
        chainItemHtml.data('chain', chain);
        chainItemHtml.on('click', async function () {
          var selectedChain = $(this).data('chain');
          await changeChain(selectedChain);
        });
        $("#chainsdd").append(chainItemHtml);
      }

      var $numField = $("#number");
      var $amountField = $("#amount");
      $numField.on("input", function () {
        var sourceValue = $numField.val();
        $amountField.val(parseInt(sourceValue) * 0.001 || 0);
      });
    });
  </script>


  <script>
    async function checkChain() {
      var id = await web3.eth.getChainId()
      var result = chains.find(obj => {
        return obj.id === web3.utils.toHex(id)
      })
      if (result) {
        currentChain = result;
        $("#dropdownMenuButton").html(result.name);
      }
    }

    async function checkConnect() {
      if (isLogged()) {
        const accounts = await ethereum.request({ method: 'eth_requestAccounts' });
        const userAddress = accounts[0];
        toggleConn(userAddress);
      }
    }
    function isLogged() {
      return getCookie("logged") === "true";
    }
    function getCookie(name) {
      const value = `; ${document.cookie}`;
      const parts = value.split(`; ${name}=`);
      if (parts.length === 2) return parts.pop().split(';').shift();
    }
    function toggleConn(userAddress) {
      $("#scon").toggle();
      $("#hello").toggle();
      $("#inputs").toggle();

      $("#lab").text("Кошелёк " + userAddress);
    }
    function toggleDisc(userAddress) {
      $("#scon").toggle();
      $("#hello").toggle();

    }
    async function changeChain(chain) {
      const currentChainId = await window.ethereum.request({
        method: 'eth_chainId',
      });
      if (currentChainId == chain.id) return;
      if (window.ethereum) {
        try {
          await window.ethereum.request({
            method: 'wallet_switchEthereumChain',
            params: [{ chainId: chain.id }],
          });
          currentChain = chain;
          $("#dropdownMenuButton").html(chain.name);
        } catch (error) {
          if (error.code === 4902) {
            try {
              await window.ethereum.request({
                method: 'wallet_addEthereumChain',
                params: [
                  {
                    chainId: chain.id,
                    chainName: chain.name,
                    nativeCurrency: chain.nativeCurrency,
                    rpcUrls: chain.rpcUrls,
                  },
                ],
              });
              currentChain = chain;
              $("#dropdownMenuButton").html(chain.name);
            } catch (addError) {
              console.error(addError);
            }
          }
          console.error(error);
        }
      } else {
        alert('Install Metamask https://metamask.io/download.html');
      }
    }
  </script>


  <script>
    async function connect() {
      if (typeof window.ethereum !== 'undefined') {

        const accounts = await ethereum.request({ method: 'eth_requestAccounts' });

        const userAddress = accounts[0];
        var id = await web3.eth.getChainId()
        var result = chains.find(obj => {
          return obj.id === web3.utils.toHex(id)
        })
        if (result === undefined)
          await changeChain(chains[0]);
        document.cookie = "logged=true";
        toggleConn(userAddress);
      } else {
        console.log("No wallet");
      }
    }

    async function disconnect() {
      if (typeof window.ethereum !== 'undefined') {
        document.cookie = "logged=false";
        toggleConn();
      } else {
        console.log("No wallet");
      }
    }
    async function isPending(txHash) {
      $("#pend").text("(Pending)");
      $("#pend").show();
      try {
        var r = await web3.eth.getTransactionReceipt(txHash);
        if (r != null) {
          if (r.status == "1")
            $("#pend").text("(Completed)");
          else if (r.status == "0")
            $("#pend").text("(Failed)");
          clearInterval(timerId);
        }
        else $("#pend").hide();
      } catch (error) {

      }

    }
    async function send() {
      var id = await web3.eth.getChainId()
      var result = chains.find(obj => {
        return obj.id === web3.utils.toHex(id)
      })
      if (result === undefined)
        await changeChain(chains[0]);

      const payableAmount = document.getElementById("amount").value;
      const numberOfContracts = parseInt(document.getElementById('number').value);
      let contract = new web3.eth.Contract(contractABI, currentChain.contract);
      const transactionObject = {
        to: contractAddress,
        from: ethereum.selectedAddress,
        value: web3.utils.toHex(parseInt(web3.utils.toWei(payableAmount, 'ether'))),
        data: contract.methods.createContracts(numberOfContracts).encodeABI(),
      };

      try {
        const transactionHash = await ethereum.request({
          method: 'eth_sendTransaction',
          params: [transactionObject],
        });
        $("#result").attr("href", "https://goerli.etherscan.io/tx/" + transactionHash);
        $("#result").show();
        timerId = setInterval(async () => { await isPending(transactionHash) }, 1000);
      } catch (error) {
        $("#pend").show();
        $("#result").hide();

        $("#pend").text("REJECTED BY USER");
      }
    }

  </script>
<body class="antialiased bg-page text-default tracking-tight">
    <header
        class="mx-auto w-full border-b border-gray-50/0 ease-in-out flex-none sticky top-0 transition-[opacity] z-40"
        id="header">
        <div class="inset-0 absolute"></div>
        <div class="relative mx-auto md:px-6 text-default max-w-7xl md:flex md:justify-between px-3 py-3 w-full">
            <div class="flex justify-between"><a href="index.html" class="flex items-center"><span
                        class="font-bold dark:text-white text-2xl md:text-xl ml-2 rtl:ml-0 rtl:mr-2 self-center text-gray-900 whitespace-nowrap">🚀
                        AstroWind</span></a>
                <div class="flex items-center md:hidden"><button
                        class="flex justify-center items-center cursor-pointer flex-col group h-12 rounded w-12"
                        aria-label="Toggle Menu" data-aw-toggle-menu><span class="sr-only">Toggle Menu</span><span
                            class="transition duration-200 bg-black dark:bg-white ease h-0.5 my-1 opacity-80 rounded-full transform w-6 group-[.expanded]:rotate-45 group-[.expanded]:translate-y-2.5"
                            aria-hidden="true"></span><span
                            class="transition duration-200 bg-black dark:bg-white ease h-0.5 my-1 opacity-80 rounded-full transform w-6 group-[.expanded]:opacity-0"
                            aria-hidden="true"></span><span
                            class="transition duration-200 bg-black dark:bg-white ease h-0.5 my-1 opacity-80 rounded-full transform w-6 group-[.expanded]:-rotate-45 group-[.expanded]:-translate-y-2.5"
                            aria-hidden="true"></span></button></div>
            </div>
            <nav aria-label="Main navigation"
                class="items-center md:w-auto w-full hidden md:flex md:mx-5 md:overflow-x-auto md:overflow-y-visible overflow-x-hidden overflow-y-auto text-default">
                <ul
                    class="flex flex-col md:flex-row font-medium md:self-center md:text-[0.9375rem] md:w-auto text-xl tracking-[0.01rem] w-full">
                    <li class="dropdown"><button
                            class="flex items-center dark:hover:text-white hover:text-link px-4 py-3">
                            <a href="./index.html">Main</a></button>
                     
                    </li>
                    <li class="dropdown"><button
                            class="flex items-center dark:hover:text-white hover:text-link px-4 py-3">
                            <a href="./app.html">App</a>
                        </button>
                        
                    </li>
             
              
                   
                </ul>
            </nav>
            <div
                class="flex items-center md:w-auto w-full bottom-0 fixed hidden justify-end left-0 md:flex md:mb-0 md:p-0 md:self-center md:static p-3 rtl:left-auto rtl:right-0">
                <div class="flex items-center md:w-auto w-full justify-between">
                   
                </div>
            </div>
        </div>
    </header>
    <main>
        <section class="relative not-prose md:-mt-[76px]">
            <div class="inset-0 absolute pointer-events-none" aria-hidden="true"></div>
            <div class="relative mx-auto px-4 max-w-7xl sm:px-6">
                <div class="pointer-events-none md:pt-[76px] pt-0"></div>
                <div class="md:py-20 py-12">
                    <div class="mx-auto max-w-5xl md:pb-16 pb-10 text-center">
                        <div class="mx-auto max-w-3xl">
                            <div class="row">
                               
                                <div class="col-md-auto">
                                  
                                </div>
                              </div>
                            <div
                                class="flex flex-col flex-nowrap gap-4 m-auto max-w-xs sm:flex-row sm:justify-center sm:max-w-md">
                          
                                <div class="">
                                    <div class="flex flex-col gap-4">
                                     <div class="">
                                        <div class="col-md-auto ">
                                            <div id="hello" class="container-fluid">
                                              <div class="row flex flex-col gap-4">
                                                <div class="col-md-auto">
                                                  <h3>Подключение кошелька</h3>
                                                </div>
                                                <div class="col-md-auto">
                                                  <input type="button" value="Connect Wallet" class="btn btn-primary" onclick="connect();">
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                          <div class="col-md-auto">
                                            <div id="scon" class="container-fluid" style="display:none;">
                                              <div class="row mb-3 justify-center">
                                    
                                                <div class="col-md-auto">
                                                  <label id="lab"></label>
                                                </div>
                                                <div class="col-md-auto">
                                                  <input type="button" value="Выход" class="btn btn-danger" onclick="disconnect();">
                                                </div>
                                              </div>
                                              <div id="inputs" class="container-fluid" style="display:none;">
                                    
                                                <div class="input-group mb-3">
                                                  <div class="input-group-prepend">
                                                    <span class="input-group-text" id="basic-addon1">
                                                      #
                                                    </span>
                                                  </div>
                                                  <input id="number" class="form-control" placeholder="Number of Contracts" aria-label="Number of Contracts"
                                                    aria-describedby="basic-addon1">
                                                </div>
                                                <div class="input-group mb-3">
                                                  <div class="input-group-prepend">
                                                    <span class="input-group-text" id="basic-addon1">
                                                      ETH
                                                    </span>
                                                  </div>
                                                  <input id="amount" type="text" class="form-control" placeholder="Payable amount"
                                                    aria-label="Payable amount" aria-describedby="basic-addon1">
                                                </div>
                                                <input type="button" value="Отправить" class="btn btn-success" onclick="send();">
                                                <div class="container-fluid">
                                                  <span><a href="index.html#" id="result">Последняя транзакция</a></span>
                                                  <span><label id="pend"></label></span>
                                                </div>
                                              </div>
                                    
                                            </div>
                                          </div>
                                     </div>
                                
                                      <div class="col-md-auto">
                                        <div class="dropdown">
                                          <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown"
                                            aria-haspopup="true" aria-expanded="false">
                                            Goerli
                                          </button>
                                          <div id="chainsdd" class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                            
                                       
                                    
                                           
                                        </div>
                        </div>
                    </div>
                    <div>
                        <div class="relative m-auto max-w-5xl"><img alt="AstroWind Hero Image" height="576"
                                src="astro/hero.08a3a925.png" width="1024" class="mx-auto w-full rounded-md"
                                decoding="async" loading="eager"
                                sizes="(max-width: 767px) 400px, (max-width: 1023px) 768px, (max-width: 2039px) 1024px, 2040px"
                                srcset="astro/hero.08a3a925_20Pa4E.webp 400w, astro/hero.08a3a925_ZB6noO.webp 768w, astro/hero.08a3a925_ZkRiTy.webp 1024w, astro/hero.08a3a925_Z2o2AVK.webp 2040w, astro/hero.08a3a925_HyTUV.webp 2048w"
                                style="object-fit:cover;object-position:center;max-width:1024px;max-height:576px;aspect-ratio:1.7777777777777777;width:100%">
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <script>!function () { const e = "system"; function t(e) { "dark" === e ? document.documentElement.classList.add("dark") : document.documentElement.classList.remove("dark") } function o(e, t, o) { const a = "string" == typeof e ? document.querySelectorAll(e) : e; a && a.length && a.forEach((e => { e.addEventListener(t, (t => o(t, e)), !1) })) } e && e.endsWith(":only") || (localStorage.theme, 0) ? t(e.replace(":only", "")) : "dark" === localStorage.theme || !("theme" in localStorage) && window.matchMedia("(prefers-color-scheme: dark)").matches ? t("dark") : t("light"), window.onload = function () { let t = window.scrollY, a = !0; function d() { const e = document.getElementById("header"); t > 60 && !e.classList.contains("scroll") ? document.getElementById("header").classList.add("scroll") : t <= 60 && e.classList.contains("scroll") && document.getElementById("header").classList.remove("scroll"), a = !1 } o("#header nav", "click", (function () { document.querySelector("[data-aw-toggle-menu]")?.classList.remove("expanded"), document.body.classList.remove("overflow-hidden"), document.getElementById("header")?.classList.remove("h-screen"), document.getElementById("header")?.classList.remove("expanded"), document.getElementById("header")?.classList.remove("bg-page"), document.querySelector("#header nav")?.classList.add("hidden"), document.querySelector("#header > div > div:last-child")?.classList.add("hidden") })), o("[data-aw-toggle-menu]", "click", (function (e, t) { t.classList.toggle("expanded"), document.body.classList.toggle("overflow-hidden"), document.getElementById("header")?.classList.toggle("h-screen"), document.getElementById("header")?.classList.toggle("expanded"), document.getElementById("header")?.classList.toggle("bg-page"), document.querySelector("#header nav")?.classList.toggle("hidden"), document.querySelector("#header > div > div:last-child")?.classList.toggle("hidden") })), o("[data-aw-toggle-color-scheme]", "click", (function () { e.endsWith(":only") || (document.documentElement.classList.toggle("dark"), localStorage.theme = document.documentElement.classList.contains("dark") ? "dark" : "light") })), o("[data-aw-social-share]", "click", (function (e, t) { const o = t.getAttribute("data-aw-social-share"), a = encodeURIComponent(t.getAttribute("data-aw-url")), d = encodeURIComponent(t.getAttribute("data-aw-text")); let n; switch (o) { case "facebook": n = `https://www.facebook.com/sharer.php?u=${a}`; break; case "twitter": n = `https://twitter.com/intent/tweet?url=${a}&text=${d}`; break; case "linkedin": n = `https://www.linkedin.com/shareArticle?mini=true&url=${a}&title=${d}`; break; case "whatsapp": n = `https://wa.me/?text=${d}%20${a}`; break; case "mail": n = `mailto:?subject=%22${d}%22&body=${d}%20${a}`; break; default: return }const c = document.createElement("a"); c.target = "_blank", c.href = n, c.click() })), d(), o([document], "scroll", (function () { t = window.scrollY, a || (window.requestAnimationFrame((() => { d() })), a = !0) })) }, window.onpageshow = function () { document.documentElement.classList.add("motion-safe:scroll-smooth"); const e = document.querySelector("[data-aw-toggle-menu]"); e && e.classList.remove("expanded"), document.body.classList.remove("overflow-hidden"), document.getElementById("header")?.classList.remove("h-screen"), document.getElementById("header")?.classList.remove("expanded"), document.querySelector("#header nav")?.classList.add("hidden") } }()</script>
</body>

</html>